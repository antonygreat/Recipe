<p id="notice"><%= notice %></p>

<p>
  <strong>recipe:</strong>
  <%= @recipe.id %>
</p>

<p>
  <strong>Userid:</strong>
  <%= @recipe.userid %>
</p>

<p>
  <strong>Title:</strong>
  <%= @recipe.title %>
</p>

<p>
  <strong>Description:</strong>
  <%= @recipe.description %>
</p>

<p>
  <strong>Ingredients:</strong>
  <% @ingredients.each do |i| %>
  <%= i.name %>
  <% end %>
</p>

<p>
  <strong>Types:</strong>
  <% @types.each do |i| %>
  <%= i.name %>
  <% end %>
</p>

<!--<p>
    <strong>Isban:</strong>
    <%= @recipe.isban %>
</p>-->

<!--<p>
    <strong>Imageid:</strong>
    <%= @recipe.imageid %>
</p>-->


<div id="favorite">

<% if Favorite.where("recipeid =? AND userid =?",@recipe.id,1).nil? %>

  <%= form_for(@favorite) do |f| %>  
  <%= f.hidden_field :recipeid,:value => @recipe.id %>
  <div class="field">
    <%= f.label :user %><br>
    <%= collection_select(:users,:id,@all_users,:id,:username,{},{})%>
  </div>
  <div class="actions">
    <%= f.submit 'Like' %>
  </div>
  <% end %>

<% else %>
<%= form_for(@favorite) do |f| %>  
  <%= f.hidden_field :recipeid,:value => @recipe.id %>
 
  <div class="actions">
    <%= f.submit 'Dislike' %>
  </div>
  <% end %>

<% end %>

</div>

<!-- for showing existed comments -->
<div id="comment">
  <h2>Comments:</h2>
  <% @comments.each do |comment| %>
  <p>
    <strong><%= User.find(comment.userid).username %>:</strong>
    <%= comment.comment %>
  </p>
  <% end %>
</div>

<!-- for adding a new comment -->
<div id="add_comment">

  <%= form_for(@comment) do |f| %>

  <%= f.hidden_field :recipeid,:value => @recipe.id %>

  <div class="field">
    <%= f.label :user %><br>
    <%= collection_select(:users,:id,@all_users,:id,:username,{},{})%>
  </div>
  <div class="field">
    <%= f.label :comment %><br>
    <%= f.text_field :comment %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
  <% end %>
</div>


